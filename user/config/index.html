
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A security-oriented tool for testing CPUs and detecting microarchitectural leaks like Spectre and Meltdown">
      
      
        <meta name="author" content="Microsoft">
      
      
        <link rel="canonical" href="https://github.com/microsoft/sca-fuzzer/user/config/">
      
      
        <link rel="prev" href="../modes/">
      
      
        <link rel="next" href="../minimization/">
      
      
      <link rel="icon" href="../../assets/ms_icon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.30">
    
    
      
        <title>Configuration Options - Revizor</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration-file" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Revizor" class="md-header__button md-logo" aria-label="Revizor" data-md-component="logo">
      
  <img src="../../assets/ms_icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Revizor
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration Options
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/microsoft/sca-fuzzer" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    microsoft/sca-fuzzer
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../quick-start/" class="md-tabs__link">
        
  
    
  
  Quick Start

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../contracts/" class="md-tabs__link">
        
  
    
  
  Introduction To Speculation Contracts

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../cli/" class="md-tabs__link">
          
  
  User Documentation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../devel/overview/" class="md-tabs__link">
          
  
  Developer Documentation

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Revizor" class="md-nav__button md-logo" aria-label="Revizor" data-md-component="logo">
      
  <img src="../../assets/ms_icon.png" alt="logo">

    </a>
    Revizor
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/microsoft/sca-fuzzer" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    microsoft/sca-fuzzer
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contracts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction To Speculation Contracts
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            User Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command Line Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modes of Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Configuration Options
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Configuration Options
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fuzzing-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Fuzzing Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#program-generator-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Program Generator Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actor-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Actor Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-generator-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Input Generator Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contract-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Contract Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executor-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Executor Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analyser-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Analyser Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Miscellaneous Configuration
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../minimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Minimization Passes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fuzzing-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Violation Root-Causing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Developer Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devel/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devel/development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Guidelines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced Topics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Advanced Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devel/registers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Register Allocation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devel/sandbox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Case Sandbox
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devel/macros/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Macros
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devel/dr-model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DynamoRIO backend
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devel/binary-formats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Binary Formats
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devel/code-generation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Case Code Generation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fuzzing-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Fuzzing Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#program-generator-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Program Generator Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actor-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Actor Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-generator-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Input Generator Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contract-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Contract Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executor-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Executor Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analyser-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Analyser Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Miscellaneous Configuration
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="configuration-file">Configuration File</h1>
<p>Below is a list of the available configuration options for Revizor, which are passed down to Revizor via a config file.
For an example of how to write the config file, see <a href="https://github.com/microsoft/sca-fuzzer/tree/main/src/tests/big-fuzz.yaml">src/tests/big-fuzz.yaml</a>.</p>
<h2 id="fuzzing-configuration">Fuzzing Configuration</h2>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fuzzer</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;basic&#39;</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;basic&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;architectural&#39; | &#39;archdiff&#39;</span>
</code></pre></div>
<p>This option selects the fuzzing mode. The available options are:</p>
<ul>
<li><code>basic</code> - normal model-based fuzzing. A violation in this mode indicates that the CPU
exposes more information than predicted by the contract. This option should be used in most
testing campaigns.</li>
<li><code>architectural</code> - self-fuzzing for architectural mismatches between the model and the executor.
This option should be used for testing the fuzzer itself, i.e., a violation in this
mode indicates a bug in the fuzzer rather then a bug in the CPU. This is useful when running
the fuzzer with a previously-untested instruction set, or when a new contract is implemented.</li>
<li><code>archdiff</code> - fuzzing for architectural invariants. This is a special mode targeted for
for semi-microarchitectural violations, similar to ZenBleed. This mode is experimental and
should be used with caution.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enable_priming</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</code></pre></div>
<p>This option enables or disables priming. This options should be set to True in most cases,
as priming is crucial for eliminating false positives.</p>
<p>Priming solves the following problem: Revizor collects hardware traces for inputs in a sequence,
and the microarchitectural state is not reset between the inputs. This means that the microarchitectural
state for the input at, for example, position 100 is different from the state for the input at position 200.
Accordingly, the hardware traces for these inputs may differ because the measurements are taken in different
microarchitectural contexts.</p>
<p>To address this issue, we uses priming, which swaps the inputs in the sequence and re-runs the tests.
For example, if the original sequence is (i1 . . . i99,i100,i101 . . . i199,i200), the priming
sequence will be (i1 . . . i99,i200,i101 . . . i199,i100). If the violation persists in this
sequence, it is a true positive. If the violation disappears, it is a false positive, and it
will be discarded.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enable_speculation_filter</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
</code></pre></div>
<p>If enabled, Revizor will discard test cases that do not trigger speculation.</p>
<p>This option is useful for improving the throughput of the fuzzer,
but it can discard potential violations if the leakage is not caused by speculation.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enable_observation_filter</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
</code></pre></div>
<p>If enabled, Revizor will discard test cases that do not leave speculative traces.
The filtering is performed by adding an <code>LFENCE</code> after
each instruction in the test case, and comparing the resulting hardware traces with the original.
If the traces are identical, the test case is discarded.</p>
<p>This option is useful for improving the throughput of the fuzzer,
but it can discard potential violations if the leakage is not caused by speculation.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enable_fast_path_model</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</code></pre></div>
<p>If enabled, the same contract trace will be used for all inputs in the same taint-based input class.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">color</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
</code></pre></div>
<p>If enabled, the output will be colored.
This option is helps a lot with readability, but may produce corrupted output when redirected to a file.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">logging_modes</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;info&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;stat&#39;</span><span class="p p-Indicator">]</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;info&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;stat&#39; | &#39;dbg_timestamp&#39; | &#39;dbg_violation&#39; | &#39;dbg_dump_htraces&#39; | &#39;dbg_dump_ctraces&#39; | &#39;dbg_dump_traces_unlimited&#39; | &#39;dbg_executor_raw&#39; | &#39;dbg_model&#39; | &#39;dbg_coverage&#39; | &#39;dbg_generator&#39; | &#39;dbg_priming&#39;</span>
</code></pre></div>
<p>This option controls the output:</p>
<ul>
<li><code>info</code> - general information about the progress of fuzzing;</li>
<li><code>stat</code> - statistics the end of the fuzzing campaign;</li>
<li><code>dbg_timestamp</code> - every 1000 test cases print the timestamp during the fuzzing process;</li>
<li><code>dbg_violation</code> - upon detecting a violation, print detailed information about it;</li>
<li><code>dbg_dump_htraces</code> - print the first 100 hardware traces for every test case;</li>
<li><code>dbg_dump_ctraces</code> - print the first 100 contract traces for every test case;</li>
<li><code>dbg_dump_traces_unlimited</code> - print ALL traces (use carefully, produces LOTS of text);</li>
<li><code>dbg_executor_raw</code> - prints hardware traces for every stage of the fuzzing process;
  this differs from <code>dbg_dump_htraces</code> in that it prints the traces collected by
  speculation/observation filters as well as at every iteration of multi-sample collection;</li>
<li><code>dbg_model</code> - print a detailed info about EVERY instruction executed on the model (use carefully, produces LOTS of text);</li>
<li><code>dbg_coverage</code> - stores instruction coverage information;</li>
<li><code>dbg_generator</code> - prints a list of instructions used to generate test cases;</li>
<li><code>dbg_priming</code> - prints information about the priming process; only useful for debugging the priming mechanism itself.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">multiline_output</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
</code></pre></div>
<p>If enabled, each output message will be printed on a separate line.
Otherwise, the fuzzing progress will be continuously overwriting the same line (works only in the terminal).</p>
<h2 id="program-generator-configuration">Program Generator Configuration</h2>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instruction_set</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;x86-64&#39;</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;x86-64&#39;</span>
</code></pre></div>
<p>The instruction set under test. Currently, only x86-64 is supported.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instruction_categories</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;BASE-BINARY&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;BASE-BITBYTE&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;BASE-COND_BR&#39;</span><span class="p p-Indicator">]</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(depends on model backend; see &lt;isa&gt;_config.py for details)</span>
</code></pre></div>
<p>Select a list of instruction categories to be used when generating programs.
This list effectively filters out instructions from the ISA descriptor file (e.g., <code>base.json</code>)
passed via the command line (<code>-s</code>).</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instruction_blocklist</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;enterw&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;enter&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;leavew&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;leave&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;int&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;encls&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;vmxon&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;stgi&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;skinit&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;ldmxcsr&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;stmxcsr&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;lfence&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;mfence&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;sfence&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;clflush&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;clflushopt&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;divps&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;divss&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;divpd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;divsd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;mulss&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;mulps&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;mulpd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;mulsd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;rsqrtps&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;rsqrtss&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;sqrtps&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;sqrtss&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;sqrtpd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;sqrtsd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;addps&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;addss&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;addpd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;addsd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;subps&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;subss&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;subpd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;subsd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;addsubpd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;addsubps&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;haddpd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;haddps&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;hsubpd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;hsubps&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;sti&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;cli&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;xlat&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;xlatb&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;cmpxchg8b&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;lock</span><span class="nv"> </span><span class="s">cmpxchg8b&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;cmpxchg16b&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;lock</span><span class="nv"> </span><span class="s">cmpxchg16b&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;cpuid&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;cmpps&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;cmpss&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;cmppd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;cmpsd&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;movq2dq&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;movdq2q&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;rcpps&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;rcpss&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;pcmpestriq&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;pcmpestrmq&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;vpcmpestriq&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;vpcmpestrmq&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;maskmovdqu&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;maskmovq&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;vmaskmovdqu&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;vmaskmovq&#39;</span><span class="p p-Indicator">]</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(any instruction names)</span>
</code></pre></div>
<p>A list of instructions that will NOT be used for generating programs.
This list filters out instructions from <code>instruction_categories</code>, but not from <code>instruction_allowlist</code>.</p>
<p>The resulting instruction pool is:
     (instructions from instruction_categories - instruction_blocklist) + instruction_allowlist</p>
<p>The instructions that are blocked by default are known to cause issues in the model or executor,
and hence should generally be avoided when fuzzing.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instruction_blocklist_append</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(any instruction names)</span>
</code></pre></div>
<p>A list of instructions that will be appended to the default instruction blocklist.
This option is identical to <code>instruction_blocklist</code>, but the list is added to the previous
blocklist instead of replacing it.
This is useful when you want to block some instructions in addition to the default blocklist.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instruction_allowlist</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(any instruction names)</span>
</code></pre></div>
<p>A list of instructions to use for generating programs.
This list has priority over <code>instruction_categories</code> and over <code>instruction_blocklist</code>,
thus adding instructions on top of the categories.</p>
<p>The resulting instruction pool is:
     (instructions from instruction_categories - instruction_blocklist) + instruction_allowlist</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">program_generator_seed</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</code></pre></div>
<p>Seed of the program generator. If set to zero, a random seed will be used for each run.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">program_size</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">24</span>
</code></pre></div>
<p>Number of instructions per program. The actual size might be larger because of the instrumentation.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">avg_mem_accesses</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12</span>
</code></pre></div>
<p>Average number of memory accesses in generated programs.
The actual number will be random, but the average over all programs will be close to this value.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">min_bb_per_function</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>Minimal number of basic blocks per function in generated programs.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">max_bb_per_function</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</code></pre></div>
<p>Maximal number of basic blocks per function in generated programs.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">min_successors_per_bb</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>Minimal number of successors for each basic block in generated programs.</p>
<p>Note 1: this config option is a <em>hint</em>; it could be ignored if the instruction set does not
have the necessary instructions to satisfy it, or if a certain number of successor is required
for correctness</p>
<p>Note 2: If min_successors_per_bb &gt; max_successors_per_bb, the value is
overwritten with max_successors_per_bb</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">max_successors_per_bb</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>Maximal number of successors for each basic block in generated programs.</p>
<p>Note: this config option is a <em>hint</em>; it could be ignored if the instruction set does not
have the necessary instructions to satisfy it, or if a certain number of successor is required
for correctness</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">register_allowlist</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(any register names)</span>
</code></pre></div>
<p>A list of registers that CAN be used for generating programs.</p>
<p>This list has higher priority than <code>register_blocklist</code>.
The resulting list is: (all registers - <code>register_blocklist</code>) + <code>register_allowlist</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">register_blocklist</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(all but RAX, RBX, RCX, RDX, RDI, RSI, XMM0-XMM7)</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(any register names)</span>
</code></pre></div>
<p>A list of registers that will NOT be used for generating programs.</p>
<p>This list has lower priority than <code>register_allowlist</code>.
The resulting list is: (all registers - <code>register_blocklist</code>) + <code>register_allowlist</code>.</p>
<p>The default blocked registers are used by the executor internally, and thus should be avoided.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">generator_faults_allowlist</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;div-by-zero&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;div-overflow&#39; | &#39;opcode-undefined&#39; | &#39;bounds-range-exceeded&#39; | &#39;breakpoint&#39; | &#39;debug-register&#39; | &#39;non-canonical-access&#39; | &#39;user-to-kernel-access&#39;</span>
</code></pre></div>
<p>By default, the generator will produce programs that never trigger exceptions.
This option modifies this behavior by permitting the generator to produce 'unsafe' instruction sequences
that could potentially trigger an exception. The model and executor will also be configured to handle
these exceptions gracefully.</p>
<p>The available options are:</p>
<ul>
<li><code>div-by-zero</code> - generate divisions with unmasked divisor, which can cause a division by zero exception.</li>
<li><code>div-overflow</code> - generate divisions with unmasked dividend, which can cause an overflow exception.</li>
<li><code>opcode-undefined</code> - generate undefined opcodes, which can cause an undefined opcode exception.</li>
<li><code>bounds-range-exceeded</code> - apply MPX instructions for random bounds checks.
  This is possible only if MPX is included in the tested instruction set.</li>
<li><code>breakpoint</code> - generate breakpoints, which can cause INT3 exceptions.</li>
<li><code>debug-register</code> - generate instructions that cause INT1 exceptions.</li>
<li><code>non-canonical-access</code> - randomly select a memory access in a generated program and instrument it to access a non-canonical address.</li>
<li><code>user-to-kernel-access</code> - randomly select a memory access in a user actor's code and instrument it to access a kernel address; works only if there is at least one user actor.</li>
</ul>
<h2 id="actor-configuration">Actor Configuration</h2>
<p>All actors are defined in the <code>actors</code> list, with the following syntax:</p>
<div class="highlight"><pre><span></span><code><span class="nt">actors</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;actor1_name&gt;</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">- &lt;actor_option&gt;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;value&gt;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">&lt;actor_option&gt;</span><span class="p">:</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">&lt;sub_option1&gt;</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;value1&gt;</span>
<span class="w">       </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">&lt;sub_option2&gt;</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;value2&gt;</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;actor2_name&gt;</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</code></pre></div>
<p>The following options are available for each actor:</p>
<div class="highlight"><pre><span></span><code><span class="nt">Actor Option</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mode</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;host&#39;</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;host&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;guest&#39;</span>
</code></pre></div>
<p>The execution mode of the actor. The available options are:</p>
<ul>
<li><code>host</code> - the actor runs in the normal, non-virtualized mode.</li>
<li><code>guest</code> - the actor runs in a VM (one VM per actor).</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">Actor Option</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">privilege_level</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;kernel&#39;</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;user&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;kernel&#39;</span>
</code></pre></div>
<p>The privilege level of the actor. The available options are:</p>
<ul>
<li><code>user</code> - the actor runs in user mode (CPL=3).</li>
<li><code>kernel</code> - the actor runs in kernel mode (CPL=0).</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">Actor Option</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_properties</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(see below)</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;present&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;writable&#39; | &#39;user&#39; | &#39;accessed&#39;</span>
<span class="w">         </span><span class="no">| &#39;dirty&#39; | &#39;executable&#39; | &#39;reserved_bit&#39; | &#39;randomized&#39;</span>
</code></pre></div>
<p>The properties of the data memory used by the actor.
These properties are applied only to the second page (FAULTY_AREA) of the actor's data region.</p>
<p>The available options are:</p>
<ul>
<li><code>present</code> [default: True] - the value of the Present bit in the page table entry.</li>
<li><code>writable</code> [default: True] - the value of the Writable bit in the page table entry.</li>
<li><code>user</code> [default: False] - the value of the User/Supervisor bit in the page table entry.</li>
<li><code>accessed</code> [default: True] - the value of the Accessed bit in the page table entry.</li>
<li><code>dirty</code> [default: True] - the value of the Dirty bit in the page table entry.</li>
<li><code>executable</code> [default: False] - the value of the Executable bit in the page table entry.</li>
<li><code>reserved_bit</code> [default: False] - the value of the Reserved bit in the page table entry.</li>
<li><code>randomized</code> [default: False] - if true, the values of the above properties will be randomized for each test case.</li>
</ul>
<p>Note that the above properties are set in the host page tables for actors with <code>mode: host</code>,
and in the guest page tables for actors with <code>mode: guest</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Actor Option</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_ept_properties</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(see below)</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;present&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;writable&#39; | &#39;executable&#39; | &#39;accessed&#39; | &#39;dirty&#39; | &#39;user&#39;</span>
<span class="w">        </span><span class="no">| &#39;reserved_bit&#39; | &#39;randomized&#39;</span>
</code></pre></div>
<p>The properties of the EPT entry used by the actor (on Intel) or the NPT entry (on AMD).
The properties are applied only to the second page (FAULTY_AREA) of the actor's data region.</p>
<p>This property has no effect on actors with <code>mode: host</code>.</p>
<p>The available options are:</p>
<ul>
<li><code>present</code> [default: True] - the value of the Present bit in the EPT/NPT entry.</li>
<li><code>writable</code> [default: True] - the value of the Writable bit in the EPT/NPT entry.</li>
<li><code>executable</code> [default: False] - the value of the Executable bit in the EPT/NPT entry.</li>
<li><code>accessed</code> [default: True] - the value of the Accessed bit in the EPT/NPT entry.</li>
<li><code>dirty</code> [default: True] - the value of the Dirty bit in the EPT/NPT entry.</li>
<li><code>user</code> [default: False] - the value of the User/Supervisor bit in the EPT/NPT entry.</li>
<li><code>reserved_bit</code> [default: False] - the value of the Reserved bit in the EPT/NPT entry.</li>
<li><code>randomized</code> [default: False] - if true, the values of the above properties will be randomized for each test case.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">Actor Option</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">observer</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
</code></pre></div>
<p>If enabled, the actor will be an observer actor, hence modelling an attacker.
This option is only used if the contract is <code>noninterference</code>, and it is ignored otherwise.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Actor Option</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instruction_blocklist</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(any instruction names)</span>
</code></pre></div>
<p>Actor-specific instruction blocklist. This list has priority over the global <code>instruction_blocklist</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Actor Option</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fault_blocklist</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(any fault names)</span>
</code></pre></div>
<p>Actor-specific fault blocklist. This list has priority over the global <code>generator_faults_allowlist</code>.</p>
<h2 id="input-generator-configuration">Input Generator Configuration</h2>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_generator</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;random&#39;</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;random&#39;</span>
</code></pre></div>
<p>The input generator type. Currently, only random input generation is supported.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_generator_seed</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</code></pre></div>
<p>Seed of the input generator. If set to zero, a random seed will be used for each run.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data_generator_entropy_bits</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">16</span>
</code></pre></div>
<p>Entropy of the random values created by the input generator. The maximum value is 31.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">inputs_per_class</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</code></pre></div>
<p>Number of inputs generated for each input class by the Contract-Driven Input Generator.
For the explanation of the input classes and the generation algorithm, see (this paper)[https://arxiv.org/pdf/2301.07642], Section 4.D. Contract-driven Input Generator.</p>
<h2 id="contract-configuration">Contract Configuration</h2>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">contract_execution_clause</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;seq&#39;</span><span class="p p-Indicator">]</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;seq&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;no_speculation&#39; | &#39;seq-assist&#39; | &#39;cond&#39; | &#39;conditional_br_misprediction&#39; | &#39;bpas&#39; | &#39;nullinj-fault&#39; | &#39;nullinj-assist&#39; | &#39;delayed-exception-handling&#39; | &#39;div-zero&#39; | &#39;div-overflow&#39; | &#39;meltdown&#39; | &#39;fault-skip&#39; | &#39;noncanonical&#39; | &#39;vspec-ops-div&#39; | &#39;vspec-ops-memory-faults&#39; | &#39;vspec-ops-memory-assists&#39; | &#39;vspec-ops-gp&#39; | &#39;vspec-all-div&#39; | &#39;vspec-all-memory-faults&#39; | &#39;vspec-all-memory-assists&#39;</span>
</code></pre></div>
<p>The execution clause of the contract.</p>
<ul>
<li><code>seq</code> - sequential execution.</li>
<li><code>no_speculation</code> - sequential execution. Synonym for <code>seq</code>.</li>
<li><code>seq-assist</code> - sequential execution with possible microcode assists.</li>
<li><code>cond</code> - permitted misprediction of conditional branches.</li>
<li><code>conditional_br_misprediction</code> - permitted misprediction of conditional branches. Synonym for <code>cond</code>.</li>
<li><code>bpas</code> - permitted speculative store bypass</li>
<li><code>nullinj-fault</code> - page faults are permitted to speculatively return zero.</li>
<li><code>nullinj-assist</code> - microcode assists are permitted to speculatively return zero.</li>
<li><code>delayed-exception-handling</code> - upon an exception or a fault, data-independent instructions that follow the exception are allowed to execute speculatively.</li>
<li><code>meltdown</code> - permission-based page faults are permitted to speculatively return the value in the memory.</li>
<li><code>fault-skip</code> - upon a fault, the faulting instruction is speculatively skipped.</li>
<li><code>noncanonical</code> - permitted speculative non-canonical memory accesses.</li>
<li><code>vspec*</code> - experimental contracts for value speculation. See (this paper)[https://www.usenix.org/system/files/usenixsecurity23-hofmann.pdf] for details.</li>
<li><code>div-zero</code> - experimental contract; do not use.</li>
<li><code>div-overflow</code> - experimental contract; do not use.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">contract_observation_clause</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;ct&#39;</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;none&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;l1d&#39; | &#39;memory&#39; | &#39;pc&#39; | &#39;ct&#39; | &#39;loads+stores+pc&#39; | &#39;ct-nonspecstore&#39; | &#39;ctr&#39; | &#39;arch&#39; | &#39;tct&#39; | &#39;tcto&#39; | &#39;ct-ni&#39;</span>
</code></pre></div>
<p>The observation clause of the contract. In most cases, the default value should be used.</p>
<p>For single-actor experiments, the following options are available:</p>
<ul>
<li><code>none</code> - the model observes nothing. Useful for testing the fuzzer.</li>
<li><code>l1d</code> - the model observes the addresses of data accesses, adjusted to imitate the L1D cache trace.
  Has very few real applications, and should be generally avoided.</li>
<li><code>memory</code> - the model observes the addresses of data accesses.</li>
<li><code>ct</code> (constant time tracer) - the model observes the addresses of data accesses and the control flow.</li>
<li><code>loads+stores+pc</code> - the model observes the addresses of data accesses and the control flow. Synonym for <code>ct</code>.</li>
<li><code>ct-nonspecstore</code> - the model observes the addresses of data accesses and the control flow, but does not observe the addresses of stores during speculation.</li>
<li><code>ctr</code> - the model observes the addresses of data accesses and the control flow, as well as the values of the general-purpose registers.</li>
<li><code>arch</code> - the model observes the addresses of data accesses and the control flow, as well as the values loaded from memory.
  This clause imitates the security guarantees provided by secure speculation mechanisms like STT.</li>
<li><code>tct</code> (truncated constant time tracer) - the model observes address of the memory access and of the program counter at cache line granularity.</li>
<li><code>tcto</code> (truncated constant time tracer with overflows) - the model address of the memory access and of the program counter at cache line granularity + observe cache line overflows.</li>
</ul>
<p>In multi-actor context, only one option is available:</p>
<ul>
<li><code>ct-ni</code> - when executing actors with <code>observer: false</code>, the model observes the same data as as with <code>ct</code>. When executing actors with <code>observer: true</code>, the model observes complete memory of the actor as well as their register values.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">model_backend</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;unicorn&#39;</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;dummy&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;unicorn&#39; | &#39;dynamorio&#39;</span>
</code></pre></div>
<p>The backend used to implement the contract model. The available options are:
* <code>unicorn</code> - use the Unicorn emulator. This is the default option and it is recommended for most cases.
* <code>dynamorio</code> - use the DynamoRIO dynamic binary instrumentation framework. This option is newly added and experimental. Avoid using it unless you are doing development work on Revizor.
* <code>dummy</code> - use a dummy model. This model always returns the same (empty) contract trace, and as such will not produce meaningful results. This option is useful, however, when root-causing violations, because it allows to collect hardware traces without running the model, hence allowing to trace instructions that are not supported by any of the backends.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">model_min_nesting</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>Minimum number of nested mispredictions in the model.
This value is used to generate the contract traces on the fast path of the fuzzer.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">model_max_nesting</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
</code></pre></div>
<p>Maximum number of nested mispredictions in the model.
This value is used to generate the contract traces on the slow path of the fuzzer,
i.e., when a potential violation is detected and the fuzzer tries to check if it is a true positive.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">model_max_spec_window</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250</span>
</code></pre></div>
<p>Size of the speculation window in the model.</p>
<h2 id="executor-configuration">Executor Configuration</h2>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">executor</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(auto-detected)</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;x86-64-intel&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;x86-64-amd&#39;</span>
</code></pre></div>
<p>The executor type. The default value is auto-detected based on the <code>cpuinfo</code>.
Should be changed only if the auto-detection fails.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">executor_mode</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;P+P&#39;</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;P+P&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;F+R&#39; | &#39;E+R&#39; | &#39;PP+P&#39; | &#39;TSC&#39;</span>
</code></pre></div>
<p>Hardware trace collection mode. The available options are:</p>
<ul>
<li><code>P+P</code> - prime and probe.</li>
<li><code>F+R</code> - flush and reload.</li>
<li><code>E+R</code> - evict and reload.</li>
<li><code>PP+P</code> - partial prime and probe (i.e., leave a subset of cache lines unprimed).</li>
<li><code>TSC</code> - use RDTSCP instruction to measure the time of the execution.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">executor_warmups</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</code></pre></div>
<p>Number of warmup rounds executed before starting to collect hardware traces.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">executor_sample_sizes</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">10</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">50</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">100</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">500</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>A list of sample sizes to be used during the measurements.
The executor will first collect the hardware traces with the first sample size in the list,
and if a violation is detected, it will try to reproduce it with all the following sample sizes.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">executor_filtering_repetitions</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</code></pre></div>
<p>The sample size to be used by the speculation and observation filters.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">executor_taskset</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</code></pre></div>
<p>The ID of the CPU core on which the executor is running test cases.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enable_pre_run_flush</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</code></pre></div>
<p>If enabled, the executor will do its best to flush the microarchitectural state before running test cases.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">x86_executor_enable_ssbp_patch</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</code></pre></div>
<p>Enable a microcode patch against Speculative Store Bypass, if available.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">x86_executor_enable_prefetcher</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
</code></pre></div>
<p>Enable all prefetchers, if the software controls are available.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">x86_disable_div64</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</code></pre></div>
<p>Do not generate 64-bit division instructions.
Useful for avoiding certain types of speculation that are specific to 64-bit division.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">x86_enable_hpa_gpa_collisions</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
</code></pre></div>
<p>When a test case contains at least one guest actor, allocate its memory in the guest physical address space to match the corresponding host physical addresses of the main actor.
Useful for testing Foreshadow-like leaks.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">x86_generator_align_locks</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</code></pre></div>
<p>When generating memory accesses with locks, apply instrumentation to align the locks to 8 bytes.
Useful for avoiding faults on unaligned accesses.</p>
<h2 id="analyser-configuration">Analyser Configuration</h2>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">analyser</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;chi2&#39;</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;chi2&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;mwu&#39; | &#39;sets&#39; | &#39;bitmaps&#39;</span>
</code></pre></div>
<p>The type of the analyser that is used to compare the hardware traces and contract traces.</p>
<p>The available options are:</p>
<ul>
<li><code>sets</code> - combine the hardware traces for each input into a set. A violation is reported if two inputs in the same contract-equivalence class have different sets of hardware traces.</li>
<li><code>bitmaps</code> - combine the hardware traces for each input into a bitmap. A violation is reported if two inputs in the same contract-equivalence class have different bitmaps of hardware traces.</li>
<li><code>chi2</code> - use the chi-squared homogeneity test to compare the hardware traces of inputs in the same contract-equivalence class. This test effectively checks if the hardware traces from two different inputs come from the same distribution. A violation is reported if the test fails.</li>
<li><code>mwu</code> - [experimental; both false positives and negatives are possible]
  use the Mann-Whitney U test to compare the hardware traces of inputs in the same contract-equivalence class. This test effectively checks if the hardware traces from two different inputs come from the same distribution. A violation is reported if the test fails.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">analyser_subsets_is_violation</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
</code></pre></div>
<p>This option is relevant only for the <code>sets</code> and <code>bitmaps</code> analysers.</p>
<p>If enabled, the analyser will not label hardware traces as mismatching if they form a subset relation.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">analyser_outliers_threshold</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
</code></pre></div>
<p>This option is relevant only for the <code>sets</code> and <code>bitmaps</code> analysers.</p>
<p>The analyser will ignore the hardware traces that appear in less than this percentage of the repetitions.</p>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">analyser_stat_threshold</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span>
</code></pre></div>
<p>This option is relevant only for the <code>chi2</code> and <code>mwu</code> analysers.</p>
<p>The threshold for the statistical tests. If a pair of hardware traces has the (normalized) statistics below the threshold,
then the traces are considered equivalent.</p>
<p>For the chi2 test, the threshold is applied to the <code>statistics / (len(htrace1) + len(htrace2))</code>.</p>
<p>For the mwu test, the threshold is applied to the p-value.</p>
<h2 id="miscellaneous-configuration">Miscellaneous Configuration</h2>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">coverage_type</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;none&#39;</span>
<span class="nt">Options</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;none&#39;</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="err"> &#39;model_instructions&#39;</span>
</code></pre></div>
<p>The type of coverage tracking. The available options are:</p>
<ul>
<li><code>none</code> - disable coverage tracking.</li>
<li><code>model_instructions</code> - track how many times the model executed each instruction.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">minimizer_retries</span>
<span class="nt">Default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>Number of minimization retries. When the minimizer performs a check to reduce a test case, each check is attempted this number of times and it succeeds if at least one check is successful.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Microsoft
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs", "search.share"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>